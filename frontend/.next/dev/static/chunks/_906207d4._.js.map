{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8001'\n\nexport const api = axios.create({\n  baseURL: `${API_URL}/api`,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n})\n\n// Types\nexport interface Product {\n  id: string\n  name: string\n  category: string\n  price: number\n  is_recurring: boolean\n  is_archived: boolean\n}\n\nexport interface InventoryProduct {\n  product_id: string\n  product_name: string\n  category: string\n  quantity_produced: number\n  quantity_sold: number\n  quantity_wasted: number\n  quantity_remaining: number\n  price: number\n}\n\nexport interface DailyInventory {\n  id?: string\n  date: string\n  products: InventoryProduct[]\n  total_revenue: number\n  created_at?: string\n  updated_at?: string\n}\n\nexport interface StatsSummary {\n  total_sales: number\n  total_wasted: number\n  total_sold: number\n  total_produced: number\n  products_stats: ProductStat[]\n}\n\nexport interface ProductStat {\n  product_id: string\n  product_name: string\n  category: string\n  total_produced: number\n  total_sold: number\n  total_wasted: number\n  total_revenue: number\n  avg_sold_per_day: number\n}\n\n// API Functions\nexport const productApi = {\n  getAll: () => api.get<Product[]>('/products'),\n  getOne: (id: string) => api.get<Product>(`/products/${id}`),\n  create: (data: Omit<Product, 'id' | 'is_archived'>) => api.post<Product>('/products', data),\n  update: (id: string, data: Partial<Product>) => api.put<Product>(`/products/${id}`, data),\n  delete: (id: string) => api.delete(`/products/${id}`),\n}\n\nexport const inventoryApi = {\n  getAll: (limit = 30) => api.get<DailyInventory[]>('/inventories', { params: { limit } }),\n  getByDate: (date: string) => api.get<DailyInventory>(`/inventories/${date}`),\n  create: (data: { date: string; products: InventoryProduct[] }) => api.post<DailyInventory>('/inventories', data),\n  update: (date: string, data: { products: InventoryProduct[] }) => api.put<DailyInventory>(`/inventories/${date}`, data),\n  delete: (date: string) => api.delete(`/inventories/${date}`),\n}\n\nexport const statsApi = {\n  getSummary: (startDate?: string, endDate?: string) => \n    api.get<StatsSummary>('/stats/summary', { params: { start_date: startDate, end_date: endDate } }),\n  getProductStats: (productId: string, startDate?: string, endDate?: string) =>\n    api.get(`/stats/product/${productId}`, { params: { start_date: startDate, end_date: endDate } }),\n  export: (startDate?: string, endDate?: string) =>\n    api.get('/export', { params: { start_date: startDate, end_date: endDate } }),\n}\n\n// Payroll types and APIs\nexport interface Employee {\n  id: string\n  full_name: string\n  role?: string\n  base_salary: number\n  is_active: boolean\n  created_at?: string\n}\n\nexport interface PayrollEntry {\n  id?: string\n  employee_id: string\n  period: string // YYYY-MM\n  advances: number\n  paid: number\n  notes?: string\n  created_at?: string\n}\n\nexport const employeesApi = {\n  getAll: (includeInactive = false) => api.get<Employee[]>('/employees', { params: { include_inactive: includeInactive } }),\n  create: (data: Omit<Employee, 'id' | 'is_active' | 'created_at'>) => api.post<Employee>('/employees', data),\n  update: (id: string, data: Partial<Employee>) => api.put<Employee>(`/employees/${id}`, data),\n  delete: (id: string) => api.delete(`/employees/${id}`),\n}\n\nexport const payrollApi = {\n  getAll: (params?: { employee_id?: string; period?: string }) => api.get<PayrollEntry[]>('/payrolls', { params }),\n  create: (data: Omit<PayrollEntry, 'id' | 'created_at'>) => api.post<PayrollEntry>('/payrolls', data),\n  update: (id: string, data: Partial<PayrollEntry>) => api.put<PayrollEntry>(`/payrolls/${id}`, data),\n  delete: (id: string) => api.delete(`/payrolls/${id}`),\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEgB;AAFhB;;AAEA,MAAM,UAAU,6DAAmC;AAE5C,MAAM,MAAM,sMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,GAAG,QAAQ,IAAI,CAAC;IACzB,SAAS;QACP,gBAAgB;IAClB;AACF;AAoDO,MAAM,aAAa;IACxB,QAAQ,IAAM,IAAI,GAAG,CAAY;IACjC,QAAQ,CAAC,KAAe,IAAI,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI;IAC1D,QAAQ,CAAC,OAA8C,IAAI,IAAI,CAAU,aAAa;IACtF,QAAQ,CAAC,IAAY,OAA2B,IAAI,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;IACpF,QAAQ,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI;AACtD;AAEO,MAAM,eAAe;IAC1B,QAAQ,CAAC,QAAQ,EAAE,GAAK,IAAI,GAAG,CAAmB,gBAAgB;YAAE,QAAQ;gBAAE;YAAM;QAAE;IACtF,WAAW,CAAC,OAAiB,IAAI,GAAG,CAAiB,CAAC,aAAa,EAAE,MAAM;IAC3E,QAAQ,CAAC,OAAyD,IAAI,IAAI,CAAiB,gBAAgB;IAC3G,QAAQ,CAAC,MAAc,OAA2C,IAAI,GAAG,CAAiB,CAAC,aAAa,EAAE,MAAM,EAAE;IAClH,QAAQ,CAAC,OAAiB,IAAI,MAAM,CAAC,CAAC,aAAa,EAAE,MAAM;AAC7D;AAEO,MAAM,WAAW;IACtB,YAAY,CAAC,WAAoB,UAC/B,IAAI,GAAG,CAAe,kBAAkB;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;IACjG,iBAAiB,CAAC,WAAmB,WAAoB,UACvD,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,WAAW,EAAE;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;IAChG,QAAQ,CAAC,WAAoB,UAC3B,IAAI,GAAG,CAAC,WAAW;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;AAC9E;AAsBO,MAAM,eAAe;IAC1B,QAAQ,CAAC,kBAAkB,KAAK,GAAK,IAAI,GAAG,CAAa,cAAc;YAAE,QAAQ;gBAAE,kBAAkB;YAAgB;QAAE;IACvH,QAAQ,CAAC,OAA4D,IAAI,IAAI,CAAW,cAAc;IACtG,QAAQ,CAAC,IAAY,OAA4B,IAAI,GAAG,CAAW,CAAC,WAAW,EAAE,IAAI,EAAE;IACvF,QAAQ,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,WAAW,EAAE,IAAI;AACvD;AAEO,MAAM,aAAa;IACxB,QAAQ,CAAC,SAAuD,IAAI,GAAG,CAAiB,aAAa;YAAE;QAAO;IAC9G,QAAQ,CAAC,OAAkD,IAAI,IAAI,CAAe,aAAa;IAC/F,QAAQ,CAAC,IAAY,OAAgC,IAAI,GAAG,CAAe,CAAC,UAAU,EAAE,IAAI,EAAE;IAC9F,QAAQ,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI;AACtD"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/lib/currency.ts"],"sourcesContent":["export const CURRENCY_SYMBOL = process.env.NEXT_PUBLIC_CURRENCY || 'DA'\n\nexport function formatCurrency(amount: number): string {\n  const normalized = Number.isFinite(amount) ? amount : 0\n  return `${normalized.toFixed(2)} ${CURRENCY_SYMBOL}`\n}\n\n\n"],"names":[],"mappings":";;;;;;AAA+B;AAAxB,MAAM,kBAAkB,0SAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI;AAE5D,SAAS,eAAe,MAAc;IAC3C,MAAM,aAAa,OAAO,QAAQ,CAAC,UAAU,SAAS;IACtD,OAAO,GAAG,WAAW,OAAO,CAAC,GAAG,CAAC,EAAE,iBAAiB;AACtD"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/components/WeekBar.tsx"],"sourcesContent":["'use client'\n\nimport { addDays, startOfWeek, format, isSameDay } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { ChevronLeft, ChevronRight } from 'lucide-react'\nimport { useMemo } from 'react'\n\ninterface WeekBarProps {\n  date: string // 'yyyy-MM-dd'\n  onChange: (date: string) => void\n  weekStartsOn?: 1 | 0 // 1 = Monday (default), 0 = Sunday\n  title?: string\n}\n\nexport default function WeekBar({ date, onChange, weekStartsOn = 1, title }: WeekBarProps) {\n  const referenceDate = useMemo(() => new Date(date), [date])\n  const weekStart = startOfWeek(referenceDate, { weekStartsOn, locale: fr })\n  const days = Array.from({ length: 7 }).map((_, i) => addDays(weekStart, i))\n\n  const goPrevWeek = () => {\n    const prev = addDays(weekStart, -7)\n    onChange(format(prev, 'yyyy-MM-dd'))\n  }\n  const goNextWeek = () => {\n    const next = addDays(weekStart, 7)\n    onChange(format(next, 'yyyy-MM-dd'))\n  }\n  const goToday = () => {\n    onChange(format(new Date(), 'yyyy-MM-dd'))\n  }\n\n  return (\n    <div className=\"bg-white border border-slate-200 rounded-xl mb-6\">\n      <div className=\"flex items-center justify-between px-3 py-2 border-b border-slate-200\">\n        <button\n          onClick={goPrevWeek}\n          className=\"p-2 rounded-lg hover:bg-slate-100 text-slate-700\"\n          aria-label=\"Semaine précédente\"\n        >\n          <ChevronLeft size={18} />\n        </button>\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"text-sm font-medium text-slate-700\">\n            {title ? title + ' • ' : ''}\n            {format(weekStart, 'dd MMM', { locale: fr })} – {format(addDays(weekStart, 6), 'dd MMM yyyy', { locale: fr })}\n          </div>\n          <button\n            onClick={goToday}\n            className=\"px-2 py-1 text-xs rounded-lg border border-slate-200 hover:bg-slate-100 text-slate-700\"\n          >\n            Aujourd'hui\n          </button>\n        </div>\n        <button\n          onClick={goNextWeek}\n          className=\"p-2 rounded-lg hover:bg-slate-100 text-slate-700\"\n          aria-label=\"Semaine suivante\"\n        >\n          <ChevronRight size={18} />\n        </button>\n      </div>\n      <div className=\"grid grid-cols-7 gap-1 p-2\">\n        {days.map((d) => {\n          const active = isSameDay(d, referenceDate)\n          return (\n            <button\n              key={d.toISOString()}\n              onClick={() => onChange(format(d, 'yyyy-MM-dd'))}\n              className={`\n                flex flex-col items-center py-2 rounded-lg transition-all\n                ${active ? 'bg-primary text-white shadow' : 'hover:bg-slate-100 text-slate-700'}\n              `}\n            >\n              <span className=\"text-xs opacity-80\">\n                {format(d, 'EEE', { locale: fr })}\n              </span>\n              <span className=\"text-lg font-semibold\">\n                {format(d, 'd', { locale: fr })}\n              </span>\n            </button>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;;;AALA;;;;;AAce,SAAS,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,eAAe,CAAC,EAAE,KAAK,EAAgB;;IACvF,MAAM,gBAAgB,IAAA,uSAAO;0CAAC,IAAM,IAAI,KAAK;yCAAO;QAAC;KAAK;IAC1D,MAAM,YAAY,IAAA,oNAAW,EAAC,eAAe;QAAE;QAAc,QAAQ,4MAAE;IAAC;IACxE,MAAM,OAAO,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAE,GAAG,GAAG,CAAC,CAAC,GAAG,IAAM,IAAA,4MAAO,EAAC,WAAW;IAExE,MAAM,aAAa;QACjB,MAAM,OAAO,IAAA,4MAAO,EAAC,WAAW,CAAC;QACjC,SAAS,IAAA,0NAAM,EAAC,MAAM;IACxB;IACA,MAAM,aAAa;QACjB,MAAM,OAAO,IAAA,4MAAO,EAAC,WAAW;QAChC,SAAS,IAAA,0NAAM,EAAC,MAAM;IACxB;IACA,MAAM,UAAU;QACd,SAAS,IAAA,0NAAM,EAAC,IAAI,QAAQ;IAC9B;IAEA,qBACE,4TAAC;QAAI,WAAU;;0BACb,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,4TAAC,0TAAW;4BAAC,MAAM;;;;;;;;;;;kCAErB,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAI,WAAU;;oCACZ,QAAQ,QAAQ,QAAQ;oCACxB,IAAA,0NAAM,EAAC,WAAW,UAAU;wCAAE,QAAQ,4MAAE;oCAAC;oCAAG;oCAAI,IAAA,0NAAM,EAAC,IAAA,4MAAO,EAAC,WAAW,IAAI,eAAe;wCAAE,QAAQ,4MAAE;oCAAC;;;;;;;0CAE7G,4TAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;kCAIH,4TAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,4TAAC,6TAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAGxB,4TAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC;oBACT,MAAM,SAAS,IAAA,gNAAS,EAAC,GAAG;oBAC5B,qBACE,4TAAC;wBAEC,SAAS,IAAM,SAAS,IAAA,0NAAM,EAAC,GAAG;wBAClC,WAAW,CAAC;;gBAEV,EAAE,SAAS,iCAAiC,oCAAoC;cAClF,CAAC;;0CAED,4TAAC;gCAAK,WAAU;0CACb,IAAA,0NAAM,EAAC,GAAG,OAAO;oCAAE,QAAQ,4MAAE;gCAAC;;;;;;0CAEjC,4TAAC;gCAAK,WAAU;0CACb,IAAA,0NAAM,EAAC,GAAG,KAAK;oCAAE,QAAQ,4MAAE;gCAAC;;;;;;;uBAX1B,EAAE,WAAW;;;;;gBAexB;;;;;;;;;;;;AAIR;GAvEwB;KAAA"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/app/inventaire/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { format } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { Calendar, Plus, Minus, Save, Settings, Package } from 'lucide-react'\nimport { productApi, inventoryApi, type Product, type InventoryProduct, type DailyInventory } from '@/lib/api'\nimport { formatCurrency } from '@/lib/currency'\nimport WeekBar from '@/components/WeekBar'\n\nexport default function InventairePage() {\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'))\n  const [products, setProducts] = useState<Product[]>([])\n  const [inventory, setInventory] = useState<DailyInventory | null>(null)\n  const [inventoryProducts, setInventoryProducts] = useState<InventoryProduct[]>([])\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [showProductModal, setShowProductModal] = useState(false)\n  const [selectedProductIds, setSelectedProductIds] = useState<Set<string>>(new Set())\n  const [saveMessage, setSaveMessage] = useState<string>('')\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const lastSavedHashRef = useRef<string>('')\n  const [showReintegrateModal, setShowReintegrateModal] = useState(false)\n  const [prevDayItems, setPrevDayItems] = useState<Array<{ product_id: string; product_name: string; remaining: number; addQuantity: number; price: number; category: string }>>([])\n  const [loadingPrev, setLoadingPrev] = useState(false)\n  const [hasReintegrated, setHasReintegrated] = useState(false)\n\n  useEffect(() => {\n    loadData()\n    // nouvelle date => on autorise une nouvelle réintégration\n    setHasReintegrated(false)\n  }, [selectedDate])\n\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      const productsRes = await productApi.getAll()\n      setProducts(productsRes.data)\n\n      try {\n        const inventoryRes = await inventoryApi.getByDate(selectedDate)\n        setInventory(inventoryRes.data)\n        setInventoryProducts(inventoryRes.data.products)\n      } catch (error: any) {\n        if (error.response?.status === 404) {\n          setInventory(null)\n          setInventoryProducts([])\n        }\n      }\n    } catch (error) {\n      console.error('Error loading data:', error)\n      alert('Erreur lors du chargement des données')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleOpenProductModal = () => {\n    setSelectedProductIds(new Set(inventoryProducts.map(p => p.product_id)))\n    setShowProductModal(true)\n  }\n\n  const handleConfirmProducts = () => {\n    const newInventoryProducts: InventoryProduct[] = []\n    \n    selectedProductIds.forEach(productId => {\n      const existing = inventoryProducts.find(p => p.product_id === productId)\n      if (existing) {\n        newInventoryProducts.push(existing)\n      } else {\n        const product = products.find(p => p.id === productId)\n        if (product) {\n          newInventoryProducts.push({\n            product_id: product.id,\n            product_name: product.name,\n            category: product.category,\n            quantity_produced: 0,\n            quantity_sold: 0,\n            quantity_wasted: 0,\n            quantity_remaining: 0,\n            price: product.price,\n          })\n        }\n      }\n    })\n\n    setInventoryProducts(newInventoryProducts)\n    setShowProductModal(false)\n  }\n\n  const updateQuantity = (productId: string, field: keyof InventoryProduct, value: number) => {\n    setInventoryProducts(prev => {\n      return prev.map(p => {\n        if (p.product_id === productId) {\n          const updated = { ...p, [field]: Math.max(0, value) }\n          if (field !== 'quantity_remaining') {\n            updated.quantity_remaining = Math.max(\n              0,\n              updated.quantity_produced - updated.quantity_sold - updated.quantity_wasted\n            )\n          }\n          return updated\n        }\n        return p\n      })\n    })\n  }\n\n  // Autosave: déclenche un enregistrement après une inactivité brève\n  useEffect(() => {\n    // Ne pas autosave pendant le chargement initial\n    if (loading) return\n    // Hash simple pour éviter les sauvegardes inutiles\n    const hash = JSON.stringify(inventoryProducts)\n    if (hash === lastSavedHashRef.current) return\n\n    // Nettoyer le timer précédent\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current)\n    }\n\n    // Déclencher une sauvegarde après 800ms d'inactivité\n    saveTimeoutRef.current = setTimeout(async () => {\n      if (inventoryProducts.length === 0) {\n        return\n      }\n      try {\n        setSaving(true)\n        setSaveMessage('Enregistrement…')\n        const payload = { products: inventoryProducts }\n        if (inventory) {\n          await inventoryApi.update(selectedDate, payload)\n        } else {\n          await inventoryApi.create({ date: selectedDate, products: inventoryProducts })\n        }\n        lastSavedHashRef.current = hash\n        setSaveMessage('Enregistré')\n        // Effacer le message après 1.5s\n        setTimeout(() => setSaveMessage(''), 1500)\n      } catch (error: any) {\n        console.error('Error saving inventory:', error)\n        setSaveMessage(error?.response?.data?.detail || 'Erreur sauvegarde')\n      } finally {\n        setSaving(false)\n      }\n    }, 800)\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inventoryProducts, selectedDate, inventory, loading])\n\n  const totalRevenue = inventoryProducts.reduce((sum, p) => sum + p.quantity_sold * p.price, 0)\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-slate-600\">Chargement...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header + Week bar */}\n        <div className=\"mb-4\">\n          <h1 className=\"text-3xl font-bold text-slate-900 mb-2\">Inventaire</h1>\n          <WeekBar\n            date={selectedDate}\n            onChange={(d) => setSelectedDate(d)}\n            title=\"Semaine\"\n          />\n          <div className=\"flex items-center justify-end\">\n            <button\n              onClick={async () => {\n                if (hasReintegrated) return\n                const prevDate = format(new Date(new Date(selectedDate).getTime() - 24 * 60 * 60 * 1000), 'yyyy-MM-dd')\n                try {\n                  setLoadingPrev(true)\n                  const prev = await inventoryApi.getByDate(prevDate)\n                  const prevProducts = (prev.data.products || []).filter((p) => (p.quantity_remaining || 0) > 0)\n                  const items = prevProducts.map((p) => ({\n                    product_id: p.product_id,\n                    product_name: p.product_name,\n                    remaining: p.quantity_remaining || 0,\n                    addQuantity: p.quantity_remaining || 0,\n                    price: p.price,\n                    category: p.category,\n                  }))\n                  setPrevDayItems(items)\n                  setShowReintegrateModal(true)\n                } catch (e) {\n                  console.error('Impossible d\\'importer les invendus de la veille', e)\n                  alert('Aucun inventaire de la veille trouvé ou erreur réseau')\n                } finally {\n                  setLoadingPrev(false)\n                }\n              }}\n              className={`btn-secondary ${hasReintegrated ? 'opacity-60 cursor-not-allowed' : ''}`}\n              disabled={hasReintegrated || loadingPrev}\n            >\n              {hasReintegrated ? 'Déjà réintégré' : (loadingPrev ? 'Chargement…' : 'Réintégrer les invendus de la veille')}\n            </button>\n          </div>\n        </div>\n\n        {/* Empty State */}\n        {inventoryProducts.length === 0 ? (\n          <div className=\"card text-center py-16\">\n            <div className=\"text-slate-400 mb-4\">\n              <Package size={64} className=\"mx-auto\" />\n            </div>\n            <h3 className=\"text-xl font-semibold text-slate-700 mb-2\">Aucun produit ajouté</h3>\n            <p className=\"text-slate-600 mb-6\">Commencez par ajouter des produits à votre inventaire</p>\n            <button onClick={handleOpenProductModal} className=\"btn-primary\">\n              <Settings size={20} className=\"inline mr-2\" />\n              Gérer les produits\n            </button>\n          </div>\n        ) : (\n          <>\n            {/* Products List */}\n            <div className=\"space-y-4 mb-6\">\n              {inventoryProducts.map((product) => (\n                <div key={product.product_id} className=\"card\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-slate-900\">{product.product_name}</h3>\n                      <p className=\"text-sm text-slate-600\">{product.category} • {formatCurrency(product.price)}</p>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Produit</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_produced', product.quantity_produced - 1)}\n                          className=\"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_produced}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_produced', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_produced', product.quantity_produced + 1)}\n                          className=\"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Vendu</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_sold', product.quantity_sold - 1)}\n                          className=\"p-2 rounded-lg bg-green-100 hover:bg-green-200 transition-colors text-green-700\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_sold}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_sold', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_sold', product.quantity_sold + 1)}\n                          className=\"p-2 rounded-lg bg-green-100 hover:bg-green-200 transition-colors text-green-700\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Jeté</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_wasted', product.quantity_wasted - 1)}\n                          className=\"p-2 rounded-lg bg-red-100 hover:bg-red-200 transition-colors text-red-700\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_wasted}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_wasted', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_wasted', product.quantity_wasted + 1)}\n                          className=\"p-2 rounded-lg bg-red-100 hover:bg-red-200 transition-colors text-red-700\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Restant</label>\n                      <div className=\"input bg-slate-50 text-center font-semibold text-slate-900\">\n                        {product.quantity_remaining}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Summary */}\n            <div className=\"card bg-primary text-white mb-6\">\n              <h3 className=\"text-xl font-bold mb-2\">Résumé du jour</h3>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-blue-100\">Chiffre d'affaires</span>\n                <span className=\"text-3xl font-bold\">{formatCurrency(totalRevenue)}</span>\n              </div>\n              <div className=\"mt-2 text-sm text-blue-100\">\n                {saving ? 'Enregistrement automatique…' : saveMessage}\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex space-x-4\">\n              <button onClick={handleOpenProductModal} className=\"btn-secondary flex-1\">\n                <Settings size={20} className=\"inline mr-2\" />\n                Gérer les produits\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* Product Selection Modal */}\n        {showProductModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col\">\n              <div className=\"p-6 border-b border-slate-200\">\n                <h2 className=\"text-2xl font-bold text-slate-900\">Sélectionner les produits</h2>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"space-y-2\">\n                  {products.map((product) => (\n                    <div\n                      key={product.id}\n                      onClick={() => {\n                        const newSelected = new Set(selectedProductIds)\n                        if (newSelected.has(product.id)) {\n                          newSelected.delete(product.id)\n                        } else {\n                          newSelected.add(product.id)\n                        }\n                        setSelectedProductIds(newSelected)\n                      }}\n                      className={`p-4 rounded-lg border-2 cursor-pointer transition-all ${\n                        selectedProductIds.has(product.id)\n                          ? 'border-primary bg-blue-50'\n                          : 'border-slate-200 hover:border-slate-300'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold text-slate-900\">{product.name}</h3>\n                          <p className=\"text-sm text-slate-600\">\n                            {product.category} • {formatCurrency(product.price)}\n                          </p>\n                        </div>\n                        <div\n                          className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\n                            selectedProductIds.has(product.id)\n                              ? 'border-primary bg-primary'\n                              : 'border-slate-300'\n                          }`}\n                        >\n                          {selectedProductIds.has(product.id) && (\n                            <svg className=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" />\n                            </svg>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-slate-200 flex space-x-4\">\n                <button onClick={() => setShowProductModal(false)} className=\"btn-secondary flex-1\">\n                  Annuler\n                </button>\n                <button onClick={handleConfirmProducts} className=\"btn-primary flex-1\">\n                  Confirmer\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Reintegrate Modal */}\n        {showReintegrateModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col\">\n              <div className=\"p-6 border-b border-slate-200\">\n                <h2 className=\"text-2xl font-bold text-slate-900\">Réintégrer les invendus de la veille</h2>\n                <p className=\"text-slate-600 mt-1 text-sm\">\n                  Ajustez les quantités à ajouter à la production d’aujourd’hui.\n                </p>\n              </div>\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                {prevDayItems.length === 0 ? (\n                  <div className=\"text-slate-600\">Aucun invendu à réintégrer.</div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {prevDayItems.map((item, idx) => (\n                      <div key={item.product_id} className=\"p-4 rounded-lg border border-slate-200 flex items-center justify-between\">\n                        <div>\n                          <div className=\"font-semibold text-slate-900\">{item.product_name}</div>\n                          <div className=\"text-sm text-slate-600\">\n                            Restant: {item.remaining}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <label className=\"text-sm text-slate-700\">À ajouter</label>\n                          <input\n                            type=\"number\"\n                            min={0}\n                            max={item.remaining}\n                            value={item.addQuantity}\n                            onChange={(e) => {\n                              const v = Math.max(0, Math.min(item.remaining, parseInt(e.target.value || '0', 10)))\n                              setPrevDayItems((prev) => {\n                                const copy = [...prev]\n                                copy[idx] = { ...copy[idx], addQuantity: v }\n                                return copy\n                              })\n                            }}\n                            className=\"input w-24 text-center\"\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n              <div className=\"p-6 border-t border-slate-200 flex space-x-4\">\n                <button onClick={() => setShowReintegrateModal(false)} className=\"btn-secondary flex-1\">\n                  Annuler\n                </button>\n                <button\n                  onClick={() => {\n                    setInventoryProducts((curr) => {\n                      const map = new Map<string, InventoryProduct>()\n                      curr.forEach((p) => map.set(p.product_id, { ...p }))\n                      prevDayItems.forEach((it) => {\n                        if (it.addQuantity <= 0) return\n                        const existing = map.get(it.product_id)\n                        if (existing) {\n                          const produced = Math.max(0, existing.quantity_produced + it.addQuantity)\n                          const updated: InventoryProduct = {\n                            ...existing,\n                            quantity_produced: produced,\n                          }\n                          updated.quantity_remaining = Math.max(0, produced - updated.quantity_sold - updated.quantity_wasted)\n                          map.set(it.product_id, updated)\n                        } else {\n                          map.set(it.product_id, {\n                            product_id: it.product_id,\n                            product_name: it.product_name,\n                            category: it.category,\n                            quantity_produced: it.addQuantity,\n                            quantity_sold: 0,\n                            quantity_wasted: 0,\n                            quantity_remaining: it.addQuantity,\n                            price: it.price,\n                          })\n                        }\n                      })\n                      return Array.from(map.values())\n                    })\n                    setShowReintegrateModal(false)\n                    setHasReintegrated(true)\n                  }}\n                  className=\"btn-primary flex-1\"\n                  disabled={prevDayItems.every(it => it.addQuantity <= 0)}\n                >\n                  Réintégrer\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}