{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8001'\n\nexport const api = axios.create({\n  baseURL: `${API_URL}/api`,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n})\n\n// Types\nexport interface Product {\n  id: string\n  name: string\n  category: string\n  price: number\n  is_recurring: boolean\n  is_archived: boolean\n}\n\nexport interface InventoryProduct {\n  product_id: string\n  product_name: string\n  category: string\n  quantity_produced: number\n  quantity_sold: number\n  quantity_wasted: number\n  quantity_remaining: number\n  price: number\n}\n\nexport interface DailyInventory {\n  id?: string\n  date: string\n  products: InventoryProduct[]\n  total_revenue: number\n  created_at?: string\n  updated_at?: string\n}\n\nexport interface StatsSummary {\n  total_sales: number\n  total_wasted: number\n  total_sold: number\n  total_produced: number\n  products_stats: ProductStat[]\n}\n\nexport interface ProductStat {\n  product_id: string\n  product_name: string\n  category: string\n  total_produced: number\n  total_sold: number\n  total_wasted: number\n  total_revenue: number\n  avg_sold_per_day: number\n}\n\n// API Functions\nexport const productApi = {\n  getAll: () => api.get<Product[]>('/products'),\n  getOne: (id: string) => api.get<Product>(`/products/${id}`),\n  create: (data: Omit<Product, 'id' | 'is_archived'>) => api.post<Product>('/products', data),\n  update: (id: string, data: Partial<Product>) => api.put<Product>(`/products/${id}`, data),\n  delete: (id: string) => api.delete(`/products/${id}`),\n}\n\nexport const inventoryApi = {\n  getAll: (limit = 30) => api.get<DailyInventory[]>('/inventories', { params: { limit } }),\n  getByDate: (date: string) => api.get<DailyInventory>(`/inventories/${date}`),\n  create: (data: { date: string; products: InventoryProduct[] }) => api.post<DailyInventory>('/inventories', data),\n  update: (date: string, data: { products: InventoryProduct[] }) => api.put<DailyInventory>(`/inventories/${date}`, data),\n  delete: (date: string) => api.delete(`/inventories/${date}`),\n}\n\nexport const statsApi = {\n  getSummary: (startDate?: string, endDate?: string) => \n    api.get<StatsSummary>('/stats/summary', { params: { start_date: startDate, end_date: endDate } }),\n  getProductStats: (productId: string, startDate?: string, endDate?: string) =>\n    api.get(`/stats/product/${productId}`, { params: { start_date: startDate, end_date: endDate } }),\n  export: (startDate?: string, endDate?: string) =>\n    api.get('/export', { params: { start_date: startDate, end_date: endDate } }),\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,MAAM,UAAU,6DAAmC;AAE5C,MAAM,MAAM,mMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,GAAG,QAAQ,IAAI,CAAC;IACzB,SAAS;QACP,gBAAgB;IAClB;AACF;AAoDO,MAAM,aAAa;IACxB,QAAQ,IAAM,IAAI,GAAG,CAAY;IACjC,QAAQ,CAAC,KAAe,IAAI,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI;IAC1D,QAAQ,CAAC,OAA8C,IAAI,IAAI,CAAU,aAAa;IACtF,QAAQ,CAAC,IAAY,OAA2B,IAAI,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;IACpF,QAAQ,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI;AACtD;AAEO,MAAM,eAAe;IAC1B,QAAQ,CAAC,QAAQ,EAAE,GAAK,IAAI,GAAG,CAAmB,gBAAgB;YAAE,QAAQ;gBAAE;YAAM;QAAE;IACtF,WAAW,CAAC,OAAiB,IAAI,GAAG,CAAiB,CAAC,aAAa,EAAE,MAAM;IAC3E,QAAQ,CAAC,OAAyD,IAAI,IAAI,CAAiB,gBAAgB;IAC3G,QAAQ,CAAC,MAAc,OAA2C,IAAI,GAAG,CAAiB,CAAC,aAAa,EAAE,MAAM,EAAE;IAClH,QAAQ,CAAC,OAAiB,IAAI,MAAM,CAAC,CAAC,aAAa,EAAE,MAAM;AAC7D;AAEO,MAAM,WAAW;IACtB,YAAY,CAAC,WAAoB,UAC/B,IAAI,GAAG,CAAe,kBAAkB;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;IACjG,iBAAiB,CAAC,WAAmB,WAAoB,UACvD,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,WAAW,EAAE;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;IAChG,QAAQ,CAAC,WAAoB,UAC3B,IAAI,GAAG,CAAC,WAAW;YAAE,QAAQ;gBAAE,YAAY;gBAAW,UAAU;YAAQ;QAAE;AAC9E"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/lib/currency.ts"],"sourcesContent":["export const CURRENCY_SYMBOL = process.env.NEXT_PUBLIC_CURRENCY || 'DA'\n\nexport function formatCurrency(amount: number): string {\n  const normalized = Number.isFinite(amount) ? amount : 0\n  return `${normalized.toFixed(2)} ${CURRENCY_SYMBOL}`\n}\n\n\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,kBAAkB,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAE5D,SAAS,eAAe,MAAc;IAC3C,MAAM,aAAa,OAAO,QAAQ,CAAC,UAAU,SAAS;IACtD,OAAO,GAAG,WAAW,OAAO,CAAC,GAAG,CAAC,EAAE,iBAAiB;AACtD"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/faycalzouaoui/Documents/projects/Halimou/frontend/app/inventaire/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { format } from 'date-fns'\nimport { fr } from 'date-fns/locale'\nimport { Calendar, Plus, Minus, Save, Settings, Package } from 'lucide-react'\nimport { productApi, inventoryApi, type Product, type InventoryProduct, type DailyInventory } from '@/lib/api'\nimport { formatCurrency } from '@/lib/currency'\n\nexport default function InventairePage() {\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'))\n  const [products, setProducts] = useState<Product[]>([])\n  const [inventory, setInventory] = useState<DailyInventory | null>(null)\n  const [inventoryProducts, setInventoryProducts] = useState<InventoryProduct[]>([])\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [showProductModal, setShowProductModal] = useState(false)\n  const [selectedProductIds, setSelectedProductIds] = useState<Set<string>>(new Set())\n  const [saveMessage, setSaveMessage] = useState<string>('')\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const lastSavedHashRef = useRef<string>('')\n\n  useEffect(() => {\n    loadData()\n  }, [selectedDate])\n\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      const productsRes = await productApi.getAll()\n      setProducts(productsRes.data)\n\n      try {\n        const inventoryRes = await inventoryApi.getByDate(selectedDate)\n        setInventory(inventoryRes.data)\n        setInventoryProducts(inventoryRes.data.products)\n      } catch (error: any) {\n        if (error.response?.status === 404) {\n          setInventory(null)\n          setInventoryProducts([])\n        }\n      }\n    } catch (error) {\n      console.error('Error loading data:', error)\n      alert('Erreur lors du chargement des données')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleOpenProductModal = () => {\n    setSelectedProductIds(new Set(inventoryProducts.map(p => p.product_id)))\n    setShowProductModal(true)\n  }\n\n  const handleConfirmProducts = () => {\n    const newInventoryProducts: InventoryProduct[] = []\n    \n    selectedProductIds.forEach(productId => {\n      const existing = inventoryProducts.find(p => p.product_id === productId)\n      if (existing) {\n        newInventoryProducts.push(existing)\n      } else {\n        const product = products.find(p => p.id === productId)\n        if (product) {\n          newInventoryProducts.push({\n            product_id: product.id,\n            product_name: product.name,\n            category: product.category,\n            quantity_produced: 0,\n            quantity_sold: 0,\n            quantity_wasted: 0,\n            quantity_remaining: 0,\n            price: product.price,\n          })\n        }\n      }\n    })\n\n    setInventoryProducts(newInventoryProducts)\n    setShowProductModal(false)\n  }\n\n  const updateQuantity = (productId: string, field: keyof InventoryProduct, value: number) => {\n    setInventoryProducts(prev => {\n      return prev.map(p => {\n        if (p.product_id === productId) {\n          const updated = { ...p, [field]: Math.max(0, value) }\n          if (field !== 'quantity_remaining') {\n            updated.quantity_remaining = Math.max(\n              0,\n              updated.quantity_produced - updated.quantity_sold - updated.quantity_wasted\n            )\n          }\n          return updated\n        }\n        return p\n      })\n    })\n  }\n\n  // Autosave: déclenche un enregistrement après une inactivité brève\n  useEffect(() => {\n    // Ne pas autosave pendant le chargement initial\n    if (loading) return\n    // Hash simple pour éviter les sauvegardes inutiles\n    const hash = JSON.stringify(inventoryProducts)\n    if (hash === lastSavedHashRef.current) return\n\n    // Nettoyer le timer précédent\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current)\n    }\n\n    // Déclencher une sauvegarde après 800ms d'inactivité\n    saveTimeoutRef.current = setTimeout(async () => {\n      if (inventoryProducts.length === 0) {\n        return\n      }\n      try {\n        setSaving(true)\n        setSaveMessage('Enregistrement…')\n        const payload = { products: inventoryProducts }\n        if (inventory) {\n          await inventoryApi.update(selectedDate, payload)\n        } else {\n          await inventoryApi.create({ date: selectedDate, products: inventoryProducts })\n        }\n        lastSavedHashRef.current = hash\n        setSaveMessage('Enregistré')\n        // Effacer le message après 1.5s\n        setTimeout(() => setSaveMessage(''), 1500)\n      } catch (error: any) {\n        console.error('Error saving inventory:', error)\n        setSaveMessage(error?.response?.data?.detail || 'Erreur sauvegarde')\n      } finally {\n        setSaving(false)\n      }\n    }, 800)\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inventoryProducts, selectedDate, inventory, loading])\n\n  const totalRevenue = inventoryProducts.reduce((sum, p) => sum + p.quantity_sold * p.price, 0)\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-slate-600\">Chargement...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-slate-900 mb-2\">Inventaire du jour</h1>\n          <div className=\"flex items-center text-slate-600\">\n            <Calendar size={20} className=\"mr-2\" />\n            <span className=\"text-lg\">\n              {format(new Date(selectedDate), 'dd MMMM yyyy', { locale: fr })}\n            </span>\n          </div>\n        </div>\n\n        {/* Empty State */}\n        {inventoryProducts.length === 0 ? (\n          <div className=\"card text-center py-16\">\n            <div className=\"text-slate-400 mb-4\">\n              <Package size={64} className=\"mx-auto\" />\n            </div>\n            <h3 className=\"text-xl font-semibold text-slate-700 mb-2\">Aucun produit ajouté</h3>\n            <p className=\"text-slate-600 mb-6\">Commencez par ajouter des produits à votre inventaire</p>\n            <button onClick={handleOpenProductModal} className=\"btn-primary\">\n              <Settings size={20} className=\"inline mr-2\" />\n              Gérer les produits\n            </button>\n          </div>\n        ) : (\n          <>\n            {/* Products List */}\n            <div className=\"space-y-4 mb-6\">\n              {inventoryProducts.map((product) => (\n                <div key={product.product_id} className=\"card\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-slate-900\">{product.product_name}</h3>\n                      <p className=\"text-sm text-slate-600\">{product.category} • {formatCurrency(product.price)}</p>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Produit</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_produced', product.quantity_produced - 1)}\n                          className=\"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_produced}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_produced', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_produced', product.quantity_produced + 1)}\n                          className=\"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Vendu</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_sold', product.quantity_sold - 1)}\n                          className=\"p-2 rounded-lg bg-green-100 hover:bg-green-200 transition-colors text-green-700\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_sold}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_sold', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_sold', product.quantity_sold + 1)}\n                          className=\"p-2 rounded-lg bg-green-100 hover:bg-green-200 transition-colors text-green-700\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Jeté</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_wasted', product.quantity_wasted - 1)}\n                          className=\"p-2 rounded-lg bg-red-100 hover:bg-red-200 transition-colors text-red-700\"\n                        >\n                          <Minus size={16} />\n                        </button>\n                        <input\n                          type=\"number\"\n                          value={product.quantity_wasted}\n                          onChange={(e) => updateQuantity(product.product_id, 'quantity_wasted', parseInt(e.target.value) || 0)}\n                          className=\"input text-center\"\n                        />\n                        <button\n                          onClick={() => updateQuantity(product.product_id, 'quantity_wasted', product.quantity_wasted + 1)}\n                          className=\"p-2 rounded-lg bg-red-100 hover:bg-red-200 transition-colors text-red-700\"\n                        >\n                          <Plus size={16} />\n                        </button>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 mb-2\">Restant</label>\n                      <div className=\"input bg-slate-50 text-center font-semibold text-slate-900\">\n                        {product.quantity_remaining}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Summary */}\n            <div className=\"card bg-primary text-white mb-6\">\n              <h3 className=\"text-xl font-bold mb-2\">Résumé du jour</h3>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-blue-100\">Chiffre d'affaires</span>\n                <span className=\"text-3xl font-bold\">{formatCurrency(totalRevenue)}</span>\n              </div>\n              <div className=\"mt-2 text-sm text-blue-100\">\n                {saving ? 'Enregistrement automatique…' : saveMessage}\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex space-x-4\">\n              <button onClick={handleOpenProductModal} className=\"btn-secondary flex-1\">\n                <Settings size={20} className=\"inline mr-2\" />\n                Gérer les produits\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* Product Selection Modal */}\n        {showProductModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col\">\n              <div className=\"p-6 border-b border-slate-200\">\n                <h2 className=\"text-2xl font-bold text-slate-900\">Sélectionner les produits</h2>\n              </div>\n\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"space-y-2\">\n                  {products.map((product) => (\n                    <div\n                      key={product.id}\n                      onClick={() => {\n                        const newSelected = new Set(selectedProductIds)\n                        if (newSelected.has(product.id)) {\n                          newSelected.delete(product.id)\n                        } else {\n                          newSelected.add(product.id)\n                        }\n                        setSelectedProductIds(newSelected)\n                      }}\n                      className={`p-4 rounded-lg border-2 cursor-pointer transition-all ${\n                        selectedProductIds.has(product.id)\n                          ? 'border-primary bg-blue-50'\n                          : 'border-slate-200 hover:border-slate-300'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold text-slate-900\">{product.name}</h3>\n                          <p className=\"text-sm text-slate-600\">\n                            {product.category} • {formatCurrency(product.price)}\n                          </p>\n                        </div>\n                        <div\n                          className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\n                            selectedProductIds.has(product.id)\n                              ? 'border-primary bg-primary'\n                              : 'border-slate-300'\n                          }`}\n                        >\n                          {selectedProductIds.has(product.id) && (\n                            <svg className=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" />\n                            </svg>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"p-6 border-t border-slate-200 flex space-x-4\">\n                <button onClick={() => setShowProductModal(false)} className=\"btn-secondary flex-1\">\n                  Annuler\n                </button>\n                <button onClick={handleConfirmProducts} className=\"btn-primary flex-1\">\n                  Confirmer\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}